# 📋 Flutter 網頁計算器 - 測試流程說明

## 🎯 專案概述

**專案名稱：** 簡單網頁計算器  
**技術架構：** Flutter Web + GitHub Pages  
**計算公式：** (第一個數字 + 第二個數字) × 第三個數字  
**部署方式：** 靜態網站託管  

---

## 🔧 開發與測試環境設定

### 1. 開發環境要求
- **Flutter SDK** (已安裝)
- **Git** (已配置)
- **Python 3** (用於本地測試伺服器)
- **網頁瀏覽器** (Chrome/Safari/Firefox)

### 2. 專案結構
```
web_calculater/
├── lib/main.dart              # Flutter 原始程式碼
├── build/web/                 # 編譯後的 Web 檔案
├── index.html                 # 部署用的主頁面 (從 build/web/ 複製)
├── main.dart.js               # 編譯後的 JavaScript
├── flutter.js                 # Flutter Web 引擎
├── assets/                    # 資源檔案
└── 其他支援檔案...
```

---

## 🚀 測試流程步驟

### 步驟 1: 開發階段測試
**目的：** 即時開發與除錯

```bash
# 啟動開發伺服器 (支援熱重載)
flutter run -d chrome
```

**特點：**
- ✅ 支援熱重載，程式碼改動即時反映
- ✅ 完整的除錯功能
- ⚠️ 效能較慢，僅供開發使用

**訪問位址：** 通常是 `http://localhost:xxxxx` (端口隨機)

---

### 步驟 2: 生產版本建置
**目的：** 產生優化後的靜態檔案

```bash
# 建置生產版本
flutter build web --release
```

**輸出位置：** `build/web/` 資料夾  
**檔案特點：**
- 🎯 已優化效能和檔案大小
- 🎯 所有依賴項已打包
- 🎯 準備用於正式部署

---

### 步驟 3: 本地靜態測試
**目的：** 驗證部署檔案的正確性

#### 3.1 複製部署檔案
```bash
# 將 Web 檔案複製到專案根目錄 (GitHub Pages 要求)
cp -r build/web/* .
```

#### 3.2 啟動本地測試伺服器
```bash
# 方法 1: Python 內建伺服器 (推薦)
python3 -m http.server 8000

# 方法 2: Node.js (如果有安裝)
npx http-server . -p 8000

# 方法 3: PHP (如果有安裝)
php -S localhost:8000
```

#### 3.3 訪問測試
**本地測試網址：**
- `http://localhost:8000`
- `http://127.0.0.1:8000`

**重要：** 這個測試環境與 GitHub Pages 部署後的效果完全一致

---

## ✅ 功能測試檢查表

### 基本功能測試
- [ ] **頁面載入：** 網頁正常顯示標題「簡單網頁計算器」
- [ ] **UI 元件：** 三個輸入框 + 一個計算按鈕 + 一個結果欄位
- [ ] **輸入限制：** 只能輸入數字（整數和小數）
- [ ] **計算邏輯：** 按下按鈕後正確計算並顯示結果

### 詳細測試案例

#### 🧮 計算功能測試
| 測試案例 | 第一個數字 | 第二個數字 | 第三個數字 | 預期結果 | 實際結果 |
|---------|-----------|-----------|-----------|---------|---------|
| 基本計算 | 10 | 5 | 2 | 30.00 | ✅ |
| 小數計算 | 1.5 | 2.5 | 3 | 12.00 | ✅ |
| 零值處理 | 0 | 5 | 2 | 10.00 | ✅ |
| 空值處理 | (空白) | 5 | 2 | 10.00 | ✅ |

#### 🎨 介面測試
- [ ] **響應式設計：** 不同螢幕尺寸下正常顯示
- [ ] **按鈕互動：** 點擊按鈕有視覺回饋
- [ ] **結果顯示：** 結果欄位為唯讀，格式化為兩位小數
- [ ] **標籤清晰：** 所有輸入欄位都有適當的中文標籤

#### 🔒 輸入驗證測試
- [ ] **數字限制：** 無法輸入字母或特殊符號
- [ ] **小數支援：** 可以輸入 123.45 格式的小數
- [ ] **負數處理：** 根據需求決定是否支援負數

---

## 🌐 部署後測試

### GitHub Pages 部署
1. **推送檔案到 GitHub：**
   ```bash
   git add .
   git commit -m "部署 Flutter Web 靜態檔案"
   git push origin main
   ```

2. **在 GitHub 啟用 Pages：**
   - 前往儲存庫 Settings → Pages
   - Source 選擇 "Deploy from a branch"
   - Branch 選擇 "main" / "/ (root)"

3. **等待部署完成（通常 1-3 分鐘）**

### 正式環境測試
**正式網址：** `https://yyuchen-workspace.github.io/calculater/`

**最終檢查：**
- [ ] 網址可正常訪問
- [ ] 所有功能與本地測試一致
- [ ] 載入速度合理
- [ ] 在不同裝置/瀏覽器上正常運作

---

## 🛠️ 故障排除

### 常見問題與解決方案

#### 問題 1: 本地伺服器無法啟動
**解決方案：**
```bash
# 檢查端口是否被佔用
lsof -i :8000

# 終止佔用端口的程序
lsof -ti:8000 | xargs kill -9

# 重新啟動伺服器
python3 -m http.server 8000
```

#### 問題 2: 網頁顯示空白
**檢查項目：**
- 確認 `index.html` 在根目錄
- 確認 `main.dart.js` 檔案存在
- 檢查瀏覽器控制台錯誤訊息

#### 問題 3: GitHub Pages 未更新
**解決方案：**
- 等待 3-5 分鐘讓部署完成
- 清除瀏覽器快取
- 確認 GitHub Pages 設定正確

---

## 📊 效能與優化

### 建置優化結果
```
Font asset "MaterialIcons-Regular.otf" was tree-shaken, 
reducing it from 1645184 to 7736 bytes (99.5% reduction)
```

### 檔案大小分析
- **主要 JavaScript：** `main.dart.js` (~編譯後的應用程式邏輯)
- **Flutter 引擎：** `flutter.js` (~Flutter Web 運行環境)
- **資源檔案：** `assets/` (~字體、圖示等)

---

## 🎯 測試完成確認

當以下所有項目都 ✅ 時，代表測試完成：

1. **本地開發測試** - Flutter 開發伺服器正常運行
2. **本地靜態測試** - Python 伺服器驗證部署檔案
3. **功能完整性測試** - 所有計算功能正常運作
4. **介面響應測試** - 不同裝置和瀏覽器相容
5. **GitHub Pages 部署測試** - 正式環境正常訪問

**🎉 測試通過即可對外分享您的網頁計算器！**